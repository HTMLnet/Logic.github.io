<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Wormhole-style Phrase Generator</title>
</head>
<body>
  <h1>Wormhole-style Phrase Generator</h1>

  <div>
    <label>Words per phrase:
      <select id="wordCount"><option value="3">3</option><option value="4">4</option></select>
    </label>
    <label>Numeric suffix:
      <select id="numericSuffix"><option value="none">none</option><option value="short">-NN</option><option value="mid">-NNN</option></select>
    </label>
    <label>Amount:
      <input id="amount" type="number" min="1" value="10"/>
    </label>
    <label>Separator:
      <input id="sep" type="text" value="-" />
    </label>
    <button id="generate">Generate</button>
    <button id="download">Download</button>
    <button id="clear">Clear</button>
  </div>

  <div>
    <h3>Generated phrases</h3>
    <textarea id="out" readonly></textarea>
  </div>

  <div>
    <button id="copy">Copy All</button>
    <button id="onecopy">Copy One</button>
  </div>

  <script>
    const ADJ = ["spicy","silent","brisk","purple","clever","neon","tiny","amber","velvet","quick","frosty","cloud","cobalt","mint","solar","rusty","paper","marble","secret","lunar","cinnamon","mossy","coral","silver","thunder","maple","hazel","echo","willow","glacier","ember","starling","pepper","barley","satin","orchard","driftwood","prism","walnut","sable","murmur","plucky","glint","mellow","spry","dusky","zesty","crimson","brave","hazy","spruce","opal","giddy","slick","sandy","bramble","safari","nebulous","quarry","gossamer"];
    const NOUN1 = ["carrot","coin","sparrow","dog","raven","fox","planet","wave","ink","owl","lime","berry","tide","flame","pearl","gear","boat","key","lotus","spark","breeze","stone","needle","maple","rope","sugar","ridge","sky","mint","rose","cloud","kite","lace","gold","trail","bay","glen","walk","echo","harbor","cave","tree","dune","pylon","comet","cinder","meadow","poppy","cobble","silo","lantern","moss"];
    const NOUN2 = ["jungle","moon","hill","sky","bridge","cave","lane","forest","river","stone","path","vault","dock","pine","crest","shore","hollow","pier","barn","glade","haven","harbor","sprig","peak","valley","plaza","court","trail","summit","arch","field","shelf","grove","strand","bench","isle","hearth","forge"];

    function randInt(max) {
      const u32 = new Uint32Array(1);
      window.crypto.getRandomValues(u32);
      return u32[0] % max;
    }

    function buildPhrase(wordCount, sep, numeric) {
      const parts = [];
      for (let i=0;i<wordCount;i++) {
        if (i%3===0) parts.push(ADJ[randInt(ADJ.length)]);
        else if (i%3===1) parts.push(NOUN1[randInt(NOUN1.length)]);
        else parts.push(NOUN2[randInt(NOUN2.length)]);
      }
      let phrase = parts.join(sep);
      if (numeric === 'short') phrase += sep + String(randInt(100)).padStart(2,'0');
      else if (numeric === 'mid') phrase += sep + String(randInt(1000)).padStart(3,'0');
      return phrase.toLowerCase();
    }

    function generateUnique(n, wordCount, sep, numeric) {
      const set = new Set();
      const maxAttempts = n * 50 + 1000;
      let attempts = 0;
      while (set.size < n && attempts < maxAttempts) {
        set.add(buildPhrase(wordCount, sep, numeric));
        attempts++;
      }
      return Array.from(set);
    }

    const out = document.getElementById('out');
    document.getElementById('generate').onclick = ()=>{
      const wordCount = parseInt(document.getElementById('wordCount').value,10);
      const amount = Math.max(1, Math.min(5000, parseInt(document.getElementById('amount').value,10) || 10));
      const sep = document.getElementById('sep').value || '-';
      const numeric = document.getElementById('numericSuffix').value;
      out.value = generateUnique(amount, wordCount, sep, numeric).join("\n");
    };
    document.getElementById('clear').onclick = ()=> out.value='';
    document.getElementById('copy').onclick = async ()=>{
      try { await navigator.clipboard.writeText(out.value); alert('Copied all phrases'); } catch(e){ alert('Clipboard failed'); }
    };
    document.getElementById('onecopy').onclick = async ()=>{
      const lines = out.value.split(/\r?\n/).filter(Boolean);
      if (!lines.length) return alert('No phrases');
      const pick = lines[Math.floor(Math.random()*lines.length)];
      try { await navigator.clipboard.writeText(pick); alert('Copied: '+pick); } catch(e){ alert('Clipboard failed'); }
    };
    document.getElementById('download').onclick = ()=>{
      const text = out.value;
      if (!text) return alert('Nothing to download.');
      const blob = new Blob([text], {type:'text/plain'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'phrases.txt';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    };
    out.value = generateUnique(10, 3, '-', 'none').join("\n");
  </script>
</body>
</html>
  <script>
    // --- Word lists (example). Expand for more entropy. ---
    const ADJ = ["spicy","silent","brisk","purple","clever","neon","tiny","amber","velvet","quick","frosty","cloud","cobalt","mint","solar","rusty","paper","marble","secret","lunar","cinnamon","mossy","coral","silver","thunder","maple","hazel","echo","willow","glacier","ember","starling","pepper","barley","satin","orchard","driftwood","prism","walnut","sable","murmur","peppery","plucky","sable","glint","mellow","spry","dusky","zesty","crimson","brave","hazy","spruce","opal","giddy","sprightly","slick","sandy","bramble","safari","nebulous","quarry","gossamer"];

    const NOUN1 = ["carrot","coin","sparrow","dog","raven","fox","planet","wave","ink","owl","lime","berry","tide","flame","pearl","gear","boat","key","lotus","spark","breeze","stone","needle","maple","rope","sugar","ridge","sky","mint","rose","cloud","kite","lace","gold","trail","bay","glen","walk","echo","harbor","cave","tree","dune","pylon","comet","cinder","meadow","poppy","cobble","silo","lantern","moss"];

    const NOUN2 = ["jungle","moon","hill","sky","bridge","cave","lane","forest","river","stone","path","vault","dock","pine","crest","shore","hollow","pier","barn","glade","haven","harbor","sprig","peak","valley","plaza","court","trail","summit","arch","field","shelf","grove","vault","dock","pier","court","trail","bay","glen","walk","summit","lane","strand","bench","grove","isle","hearth","forge"];

    // Utility: secure random integer in [0, max)
    function randInt(max) {
      if (max <= 0) return 0;
      const u32 = new Uint32Array(1);
      window.crypto.getRandomValues(u32);
      return u32[0] % max;
    }

    // Build one phrase
    function buildPhrase(wordCount=3, sep='-', numeric='none') {
      const parts = [];
      // choose words: alternate between lists for variety
      for (let i=0;i<wordCount;i++) {
        if (i%3===0) parts.push(ADJ[randInt(ADJ.length)]);
        else if (i%3===1) parts.push(NOUN1[randInt(NOUN1.length)]);
        else parts.push(NOUN2[randInt(NOUN2.length)]);
      }
      let phrase = parts.join(sep);
      if (numeric === 'short') {
        phrase += sep + String(randInt(100)).padStart(2,'0');
      } else if (numeric === 'mid') {
        phrase += sep + String(randInt(1000)).padStart(3,'0');
      }
      return phrase.toLowerCase();
    }

    // Generate N unique phrases locally (best-effort)
    function generateUnique(n, wordCount, sep, numeric) {
      const set = new Set();
      const maxAttempts = n * 50 + 1000;
      let attempts = 0;
      while (set.size < n && attempts < maxAttempts) {
        set.add(buildPhrase(wordCount, sep, numeric));
        attempts++;
      }
      return Array.from(set);
    }

    // UI wiring
    const out = document.getElementById('out');
    document.getElementById('generate').addEventListener('click', ()=>{
      const wordCount = parseInt(document.getElementById('wordCount').value,10);
      const amount = Math.max(1, Math.min(5000, parseInt(document.getElementById('amount').value,10) || 10));
      const sep = document.getElementById('sep').value || '-';
      const numeric = document.getElementById('numericSuffix').value;
      out.value = generateUnique(amount, wordCount, sep, numeric).join("\\n");
    });

    document.getElementById('clear').addEventListener('click', ()=> out.value='');

    document.getElementById('copy').addEventListener('click', async ()=>{
      try {
        await navigator.clipboard.writeText(out.value);
        alert('Copied all phrases to clipboard.');
      } catch(e){ alert('Clipboard failed: ' + e); }
    });

    document.getElementById('onecopy').addEventListener('click', async ()=>{
      const lines = out.value.split(/\\r?\\n/).filter(Boolean);
      if (!lines.length) return alert('No phrases to copy.');
      // copy a single random phrase
      const pick = lines[Math.floor(Math.random()*lines.length)];
      try {
        await navigator.clipboard.writeText(pick);
        alert('Copied one phrase: ' + pick);
      } catch(e){ alert('Clipboard failed: ' + e); }
    });

    document.getElementById('download').addEventListener('click', ()=>{
      const text = out.value;
      if (!text) return alert('Nothing to download.');
      const blob = new Blob([text], {type:'text/plain'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'phrases.txt';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    // quick example on load
    out.value = generateUnique(10, 3, '-', 'none').join("\\n");

    // For convenience, expose functions to console
    window.generatePhrase = buildPhrase;
    window.generateUnique = generateUnique;
  </script>
</body>
</html>
